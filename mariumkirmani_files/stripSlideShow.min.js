"use strict";define("stripSlideShow/common/boxSlideShowAutoPlay",["santaProps"],function(t){return{propTypes:{isPlayingAllowed:t.Types.RenderFlags.isPlayingAllowed,isZoomOpened:t.Types.isZoomOpened.isRequired,id:t.Types.Component.id.isRequired,compProp:t.Types.Component.compProp.isRequired},canAutoPlay:function(t){return this.getSlidesFromChildren(this.props.children).length>1&&t&&this.props.isPlayingAllowed&&!this.props.isZoomOpened},toggleAutoPlay:function(){this.setState({autoPlay:!this.state.autoPlay},this.updateAutoPlayState)},updateAutoPlayState:function(){this.clearTimeoutNamed(this.props.id),this.state.autoPlay&&this.setTimeoutNamed(this.props.id,this.autoplayCallback,this.getAutoplayInterval())},autoplayCallback:function(){this.props.isZoomOpened||(this.clickMoveToNextSlide(),this.updateAutoPlayState())},getAutoplayInterval:function(){var t=this.props.compProp.autoPlayInterval;return Math.floor(1e3*t)},componentDidMount:function(){this.updateAutoPlayState()}}}),define("stripSlideShow/common/slideNavigationMixin",["react","lodash","core","santaProps","stripSlideShow/common/boxSlideShowAutoPlay"],function(t,e,i,o,s){function n(t,e){var i=t.selectedButtonSizeRatio||1;return Math.floor(e*i)}function r(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:e.get(t,"autoPlay",!1)}}var a=i.compMixins,p={center:"center",left:"flex-start",right:"flex-end"},l=i.componentUtils.boxSlideShowCommon;return{propTypes:{triggerFakeModeChange:o.Types.Modes.triggerFakeModeChange.isRequired,compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp.isRequired},mixins:[a.skinBasedComp,a.timeoutsMixin,s,a.animationsMixin,a.compStateMixin(r)],getInitialState:function(){return this.reverse=!1,this.isDirectionLeftToRight="LTR"===this.props.compProp.direction,e.assign(r(null,this.props.compProp),{isInTransition:!1,autoPlay:this.canAutoPlay(this.props.compProp.autoPlay)})},setCurrentSlideAndRegisterRelayout:function(t,i,o,s){if(!this.state.isInTransition||i){this.registerReLayout();var n=e.isFunction(s)?s:e.noop;this.setState({currentIndex:t,isInTransition:o},function(){this.props.triggerFakeModeChange(this.props.currentUrlPageId,this.props.id),n(),this.handleAction("change")})}},componentWillReceiveProps:function(t){if(this.props.compProp.direction!==t.compProp.direction&&(this.isDirectionLeftToRight="LTR"===t.compProp.direction),t.children){var i=this.getSlidesFromChildren(this.props.children).length,o=this.getSlidesFromChildren(t.children).length;if(o<i){var s=e.map(t.children,"ref"),n=e.map(this.props.children,"ref"),r=n[this.state.currentIndex],a=e.difference(n,s),p=e.indexOf(n,a[0]),l=this.state.currentIndex>0?this.state.currentIndex-1:0;e.includes(s,r)?l=s.indexOf(r):l>=o&&(l=o-1);var h=this.state.currentIndex>=o;if(this.state.currentIndex!==l){var d=this.state.currentIndex===p;this.setCurrentSlideAndRegisterRelayout(l,h,d)}}var u=this.canAutoPlay(t.compProp.autoPlay);u!==this.state.autoPlay&&this.setState({autoPlay:u},this.setAutoPlayStateCallBack)}},setAutoPlayStateCallBack:function(){this.handleAction(this.state.autoPlay?"autoplayOn":"autoplayOff"),this.updateAutoPlayState()},createDotsNavigationButtons:function(){var i=this.getSlidesFromChildren(this.props.children),o=this.getSkinExports(),s=[];return e.forEach(i,function(e,i){var r=this.state.currentIndex===i,a=r?n(o,this.props.compProp.navigationDotsSize):this.props.compProp.navigationDotsSize,p={className:this.classSet({"navigation-dot":!0,selected:r})+" reset-button",style:{width:a,height:a,marginRight:this.props.compProp.navigationDotsGap/2,marginLeft:this.props.compProp.navigationDotsGap/2},"aria-label":"Go to slide "+(i+1)};s.push(t.DOM.li({className:this.classSet({"navigation-dot-wrapper":!0}),onClick:this.moveToSlide.bind(this,i),children:t.DOM.button(p)}))}.bind(this)),s},getDotsNavigationWrapperStyle:function(){var t=n(this.getSkinExports(),this.props.compProp.navigationDotsSize);return{bottom:this.props.compProp.navigationDotsMargin-.5*t,justifyContent:this.getDotsAlignment(),WebkitJustifyContent:this.getDotsAlignment()}},moveNextSlide:function(t){if(!this.state.isInTransition){this.reverse=!1;var e=l.getNextSlideIndex(this.getSlidesFromChildren(this.props.children),this.state.currentIndex);this.setCurrentSlideAndRegisterRelayout(e,!1,!0,t)}},movePreviousSlide:function(t){if(!this.state.isInTransition){this.reverse=!0;var e=l.getPrevSlideIndex(this.getSlidesFromChildren(this.props.children),this.state.currentIndex);this.setCurrentSlideAndRegisterRelayout(e,!1,!0,t)}},isSlideDirectionReversed:function(t){var e=this.state.currentIndex;return t>e?0===e&&t===this.getSlidesFromChildren(this.props.children).length-1:!(0===t&&e===this.getSlidesFromChildren(this.props.children).length-1)},moveToSlide:function(t,i){if(t===this.state.currentIndex||this.state.isInTransition)e.isFunction(i)&&i();else{var o=this.getSlidesFromChildren(this.props.children);e.isNumber(t)&&t>=0&&t<o.length&&(this.reverse=this.isSlideDirectionReversed(t),this.setCurrentSlideAndRegisterRelayout(t,!1,!0,i))}},getSlidesFromChildren:function(t){return l.getSlidesFromChildrenByProps(t)},getShownOnAllSlidesFromChildren:function(t){return l.getShownOnAllSlidesFromChildrenByProps(t)},onMouseEnter:function(){this.state.autoPlay&&this.props.compProp.pauseAutoPlayOnMouseOver&&this.setState({autoPlay:!1},this.updateAutoPlayState)},onMouseLeave:function(){this.props.compProp.pauseAutoPlayOnMouseOver&&this.setState({autoPlay:this.canAutoPlay(this.props.compProp.autoPlay)},this.updateAutoPlayState)},getTransitionDuration:function(){return"NoTransition"===this.props.compProp.transition?0:this.props.compProp.transDuration},transitionCallback:function(t){this.setState({isInTransition:!1},t)},getArrowButtonStyle:function(t){var i=this.props.compProp,o=this.getSkinExports().arrowWidthToHeightRatio||1,s=i.navigationButtonSize/o,n=i.navigationButtonMargin-.5*s,r=t?{left:n}:{right:n};return e.assign(r,{width:s})},getNavigationArrowsStyle:function(){var t=this.getSkinExports().arrowWidthToSizeRatio||1;return{top:"calc(50% - "+this.props.compProp.navigationButtonSize*t+"px)"}},getDotsAlignment:function(){return p[this.props.compProp.navigationDotsAlignment]},clickMoveToNextSlide:function(){this.moveNextSlide()},clickMoveToPreviousSlide:function(){this.movePreviousSlide()},keyboardInteractionHandler:function(t){var i=["ArrowRight","ArrowLeft","Home","End"];e.includes(i,t.key)&&(t.preventDefault(),this.refs.inlineContentParent.contains(window.document.activeElement)&&this.refs.inlineContentParent.focus()),"ArrowRight"===t.key&&this.moveNextSlide(),"ArrowLeft"===t.key&&this.movePreviousSlide(),"Home"===t.key&&this.moveToSlide(0),"End"===t.key&&this.moveToSlide(this.getSlidesFromChildren(this.props.children).length-1)},stopAutoPlay:function(){this.setState({autoPlay:!1})},resumeAutoPlay:function(){this.setState({autoPlay:this.canAutoPlay(this.props.compProp.autoPlay)})}}}),define("stripSlideShow/common/stripSlideShow",["react","lodash","core","santaProps","stripSlideShow/common/slideNavigationMixin"],function(t,e,i,o,s){var n=t.createFactory(i.wixTransitionGroup);return{displayName:"stripSlideShow",mixins:[s],propTypes:{animations:o.Types.animations,isSiteBusy:o.Types.isSiteBusy,updateColorInfo:o.Types.VerticalAnchorsMenu.updateInformation.isRequired,compProp:o.Types.Component.compProp.isRequired,getScreenWidth:o.Types.getScreenWidth.isRequired},statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"moveNextSlide",params:[]},prevSlide:{methodName:"movePreviousSlide",params:[]},moveToSlide:{methodName:"moveToSlide",params:["slide"]}}},getTransitionParams:function(){return{width:this.props.getScreenWidth()}},getSkinProperties:function(){return{"":{role:"region","aria-label":"Slideshow",onSwipeLeft:this.clickMoveToNextSlide,onSwipeRight:this.clickMoveToPreviousSlide,onKeyDown:this.keyboardInteractionHandler,onFocus:this.stopAutoPlay,onBlur:this.resumeAutoPlay},inlineContentParent:{style:{overflow:this.props.compProp.shouldHideOverflowContent?"hidden":"visible"},tabIndex:-1},inlineContent:{"aria-live":"polite",parentConst:n,isSiteBusy:this.props.isSiteBusy,transition:this.props.compProp.transition,transitionDuration:this.getTransitionDuration(),transitionCallback:this.transitionCallback,animations:this.props.animations,reverse:this.isDirectionLeftToRight?!this.reverse:this.reverse,getTransitionParams:this.getTransitionParams,children:[t.cloneElement(this.getSlidesFromChildren(this.props.children)[this.state.currentIndex],{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,flexibleBoxHeight:this.props.compProp.flexibleBoxHeight,shouldHideOverflowContent:this.props.compProp.shouldHideOverflowContent,parentId:this.props.id,minHeight:this.props.structure.layout.height})]},shownOnAllSlides:{children:this.getShownOnAllSlidesFromChildren(this.props.children)},navigationArrows:{"data-show-navigation-arrows":this.props.compProp.showNavigationButton,"data-navigation-button-margin":this.props.compProp.navigationButtonMargin,style:this.getNavigationArrowsStyle()},dotsMenuWrapper:{"data-show-navigation-dots":this.props.compProp.showNavigationDots,children:this.createDotsNavigationButtons(),style:this.getDotsNavigationWrapperStyle()},prevButton:{onClick:this.clickMoveToPreviousSlide,style:this.getArrowButtonStyle(!0),className:"reset-button"},nextButton:{onClick:this.clickMoveToNextSlide,style:this.getArrowButtonStyle(!1),className:"reset-button"}}}}}),define("stripSlideShow/common/boxSlideShow",["react","lodash","core","santaProps","stripSlideShow/common/slideNavigationMixin"],function(t,e,i,o,s){var n=t.createFactory(i.wixTransitionGroup);return{displayName:"boxSlideShow",mixins:[s],propTypes:{animations:o.Types.animations,updateColorInfo:o.Types.VerticalAnchorsMenu.updateInformation.isRequired,isSiteBusy:o.Types.isSiteBusy,compProp:o.Types.Component.compProp.isRequired,compData:o.Types.Component.compData.isRequired,styleId:o.Types.Component.styleId.isRequired,id:o.Types.Component.id.isRequired,structure:o.Types.Component.structure.isRequired},statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"moveNextSlide",params:[]},prevSlide:{methodName:"movePreviousSlide",params:[]},moveToSlide:{methodName:"moveToSlide",params:["slide"]}}},getSkinProperties:function(){return{"":{"data-shouldhideoverflowcontent":this.props.compProp.shouldHideOverflowContent,onSwipeLeft:this.clickMoveToNextSlide,onSwipeRight:this.clickMoveToPreviousSlide},inlineContent:{isSiteBusy:this.props.isSiteBusy,parentConst:n,transition:this.props.compProp.transition,transitionDuration:this.getTransitionDuration(),transitionCallback:this.transitionCallback,animations:this.props.animations,reverse:this.isDirectionLeftToRight?!this.reverse:this.reverse,children:[t.cloneElement(this.getSlidesFromChildren(this.props.children)[this.state.currentIndex],{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,flexibleBoxHeight:this.props.compProp.flexibleBoxHeight,shouldHideOverflowContent:this.props.compProp.shouldHideOverflowContent,skin:this.getSkinExports().slide.skin,styleId:this.props.styleId+"slide",parentId:this.props.id,minHeight:this.props.structure.layout.height})]},shownOnAllSlides:{children:this.getShownOnAllSlidesFromChildren(this.props.children)},navigationArrows:{"data-show-navigation-arrows":this.props.compProp.showNavigationButton,style:this.getNavigationArrowsStyle()},dotsMenuWrapper:{"data-show-navigation-dots":this.props.compProp.showNavigationDots,children:this.createDotsNavigationButtons(),style:this.getDotsNavigationWrapperStyle()},prevButton:{onClick:this.clickMoveToPreviousSlide,style:this.getArrowButtonStyle(!0)},nextButton:{onClick:this.clickMoveToNextSlide,style:this.getArrowButtonStyle(!1)}}}}}),define("stripSlideShow",["stripSlideShow/common/stripSlideShow","stripSlideShow/common/boxSlideShow"],function(t,e){return{boxSlideShow:e,stripSlideShow:t}});
//# sourceMappingURL=stripSlideShow.min.js.map